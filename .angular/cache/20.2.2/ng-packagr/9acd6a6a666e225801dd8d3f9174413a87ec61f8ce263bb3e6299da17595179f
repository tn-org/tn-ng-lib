{"hash":"1359c824b3c4a47bd02e2e5a4914e9678c76ac5da550a15fbf1443c7f5c92b5f","types":[{"exports":["L10nComponent","L10nDirective","L10nModule","L10nPipe","L10nService"],"facadeModuleId":"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.d.ts","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.component.d.ts","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.service.d.ts","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.pipe.d.ts","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.directive.d.ts","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.module.d.ts","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.d.ts"],"name":"tnlake-tn-ng-lib-src-lib-l10n.d","type":"chunk","dynamicImports":[],"fileName":"index.d.ts","implicitlyLoadedBefore":[],"importedBindings":{"@angular/core":["OnChanges","AfterViewInit","ChangeDetectorRef","*","PipeTransform","OnInit","OnDestroy","ElementRef"],"rxjs":["*"],"@angular/common/http":["HttpClient"],"@angular/common":["*"]},"imports":["@angular/core","rxjs","@angular/common/http","@angular/common"],"modules":{"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.component.d.ts":{"code":"declare class L10nComponent implements OnChanges, AfterViewInit {\n    private cd;\n    text: string;\n    values: any;\n    single: string | number | null;\n    private content;\n    constructor(cd: ChangeDetectorRef);\n    ngOnChanges(): void;\n    ngAfterViewInit(): void;\n    updateText(): void;\n    get args(): any;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nComponent, never>;\n    static ɵcmp: i0.ɵɵComponentDeclaration<L10nComponent, \"l10n\", never, { \"values\": { \"alias\": \"values\"; \"required\": false; }; \"single\": { \"alias\": \"single\"; \"required\": false; }; }, {}, never, [\"*\"], false, never>;\n}","originalLength":717,"removedExports":[],"renderedExports":["L10nComponent"],"renderedLength":595},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.service.d.ts":{"code":"declare class L10nService {\n    private http;\n    private lang;\n    private dictionary$;\n    private initialized;\n    constructor(http: HttpClient);\n    init(lang?: string): Promise<any>;\n    use(lang: string): Promise<Object | {}>;\n    private loadLanguage;\n    get(key: string, values?: any): string;\n    getStream(): rxjs.Observable<any>;\n    getLang(): string;\n    private replacePlaceholders;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<L10nService>;\n}","originalLength":626,"removedExports":[],"renderedExports":["L10nService"],"renderedLength":520},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.pipe.d.ts":{"code":"declare class L10nPipe implements PipeTransform {\n    private l10n;\n    private cdr;\n    private value;\n    private lastKey;\n    private lastValues;\n    private sub;\n    constructor(l10n: L10nService, cdr: ChangeDetectorRef);\n    transform(key: string, values?: any): string;\n    ngOnDestroy(): void;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nPipe, never>;\n    static ɵpipe: i0.ɵɵPipeDeclaration<L10nPipe, \"l10n\", false>;\n}","originalLength":583,"removedExports":[],"renderedExports":["L10nPipe"],"renderedLength":426},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.directive.d.ts":{"code":"declare class L10nDirective implements OnInit, OnDestroy, AfterViewInit {\n    private el;\n    private l10n;\n    values?: Record<string, any> | string;\n    private originalText;\n    private sub;\n    constructor(el: ElementRef, l10n: L10nService);\n    ngOnInit(): void;\n    ngAfterViewInit(): void;\n    private updateText;\n    ngOnDestroy(): void;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nDirective, never>;\n    static ɵdir: i0.ɵɵDirectiveDeclaration<L10nDirective, \"[l10n]\", never, { \"values\": { \"alias\": \"l10n\"; \"required\": false; }; }, {}, never, never, false, never>;\n}","originalLength":744,"removedExports":[],"renderedExports":["L10nDirective"],"renderedLength":575},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/l10n.module.d.ts":{"code":"declare class L10nModule {\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nModule, never>;\n    static ɵmod: i0.ɵɵNgModuleDeclaration<L10nModule, [typeof L10nComponent, typeof L10nPipe, typeof L10nDirective], [typeof i4.CommonModule], [typeof L10nComponent, typeof L10nPipe, typeof L10nDirective]>;\n    static ɵinj: i0.ɵɵInjectorDeclaration<L10nModule>;\n}","originalLength":568,"removedExports":[],"renderedExports":["L10nModule"],"renderedLength":351},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-typings/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.d.ts":{"code":null,"originalLength":130,"removedExports":[],"renderedExports":[],"renderedLength":0}},"referencedFiles":[],"code":"import * as i0 from '@angular/core';\nimport { OnChanges, AfterViewInit, ChangeDetectorRef, PipeTransform, OnInit, OnDestroy, ElementRef } from '@angular/core';\nimport * as rxjs from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport * as i4 from '@angular/common';\n\ndeclare class L10nComponent implements OnChanges, AfterViewInit {\n    private cd;\n    text: string;\n    values: any;\n    single: string | number | null;\n    private content;\n    constructor(cd: ChangeDetectorRef);\n    ngOnChanges(): void;\n    ngAfterViewInit(): void;\n    updateText(): void;\n    get args(): any;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nComponent, never>;\n    static ɵcmp: i0.ɵɵComponentDeclaration<L10nComponent, \"l10n\", never, { \"values\": { \"alias\": \"values\"; \"required\": false; }; \"single\": { \"alias\": \"single\"; \"required\": false; }; }, {}, never, [\"*\"], false, never>;\n}\n\ndeclare class L10nService {\n    private http;\n    private lang;\n    private dictionary$;\n    private initialized;\n    constructor(http: HttpClient);\n    init(lang?: string): Promise<any>;\n    use(lang: string): Promise<Object | {}>;\n    private loadLanguage;\n    get(key: string, values?: any): string;\n    getStream(): rxjs.Observable<any>;\n    getLang(): string;\n    private replacePlaceholders;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nService, never>;\n    static ɵprov: i0.ɵɵInjectableDeclaration<L10nService>;\n}\n\ndeclare class L10nPipe implements PipeTransform {\n    private l10n;\n    private cdr;\n    private value;\n    private lastKey;\n    private lastValues;\n    private sub;\n    constructor(l10n: L10nService, cdr: ChangeDetectorRef);\n    transform(key: string, values?: any): string;\n    ngOnDestroy(): void;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nPipe, never>;\n    static ɵpipe: i0.ɵɵPipeDeclaration<L10nPipe, \"l10n\", false>;\n}\n\ndeclare class L10nDirective implements OnInit, OnDestroy, AfterViewInit {\n    private el;\n    private l10n;\n    values?: Record<string, any> | string;\n    private originalText;\n    private sub;\n    constructor(el: ElementRef, l10n: L10nService);\n    ngOnInit(): void;\n    ngAfterViewInit(): void;\n    private updateText;\n    ngOnDestroy(): void;\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nDirective, never>;\n    static ɵdir: i0.ɵɵDirectiveDeclaration<L10nDirective, \"[l10n]\", never, { \"values\": { \"alias\": \"l10n\"; \"required\": false; }; }, {}, never, never, false, never>;\n}\n\ndeclare class L10nModule {\n    static ɵfac: i0.ɵɵFactoryDeclaration<L10nModule, never>;\n    static ɵmod: i0.ɵɵNgModuleDeclaration<L10nModule, [typeof L10nComponent, typeof L10nPipe, typeof L10nDirective], [typeof i4.CommonModule], [typeof L10nComponent, typeof L10nPipe, typeof L10nDirective]>;\n    static ɵinj: i0.ɵɵInjectorDeclaration<L10nModule>;\n}\n\nexport { L10nComponent, L10nDirective, L10nModule, L10nPipe, L10nService };\n","map":null,"preliminaryFileName":"index.d.ts","sourcemapFileName":null}],"fesm2022":[{"exports":["L10nComponent","L10nDirective","L10nModule","L10nPipe","L10nService"],"facadeModuleId":"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.js","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.service.js","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.pipe.js","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.component.js","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.directive.js","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.module.js","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/index.js","/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.js"],"name":"tnlake-tn-ng-lib-src-lib-l10n","type":"chunk","dynamicImports":[],"fileName":"tnlake-tn-ng-lib-src-lib-l10n.mjs","implicitlyLoadedBefore":[],"importedBindings":{"@angular/core":["*","Injectable","Pipe","ViewChild","Input","Component","Directive","NgModule"],"@angular/common":["CommonModule"],"rxjs":["BehaviorSubject","firstValueFrom","of"],"rxjs/operators":["tap","catchError"],"@angular/common/http":["*"]},"imports":["@angular/core","@angular/common","rxjs","rxjs/operators","@angular/common/http"],"modules":{"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.service.js":{"code":"class L10nService {\n    http;\n    lang = \"ja\";\n    dictionary$ = new BehaviorSubject({});\n    initialized = false;\n    constructor(http) {\n        this.http = http;\n        // 初期化はAPP_INITIALIZERで行うためコンストラクタでは呼ばない\n        console.log(\"L10nService constructor\");\n    }\n    init(lang = this.lang) {\n        console.log(`L10n init called with lang: \"${lang}\", this.lang: \"${this.lang}\"`);\n        return this.use(lang).then(() => {\n            this.initialized = true;\n            console.log(`L10n initialized with language: ${lang}, initialized: ${this.initialized}`);\n        });\n    }\n    use(lang) {\n        return firstValueFrom(this.loadLanguage(lang));\n    }\n    loadLanguage(lang) {\n        this.lang = lang;\n        return this.http.get(`/assets/dist/l10n/${lang}.json`).pipe(tap((dict) => {\n            this.dictionary$.next(dict);\n        }), catchError((error) => {\n            console.error(`Failed to initialize l10n with language ${lang}:`, error);\n            // 初期化失敗時は空の辞書で続行\n            this.dictionary$.next({});\n            return of({});\n        }));\n    }\n    get(key, values = {}) {\n        if (!this.initialized) {\n            console.warn(`L10n service not initialized. Key: \"${key}\", initialized: ${this.initialized}. Make sure to call init() or use APP_INITIALIZER`);\n            return key; // 初期化前はキーをそのまま返す\n        }\n        const dictionary = this.dictionary$.value;\n        return key in dictionary ? this.replacePlaceholders(dictionary[key], values) : key;\n    }\n    getStream() {\n        return this.dictionary$.asObservable();\n    }\n    getLang() {\n        return this.lang;\n    }\n    replacePlaceholders(translation, values) {\n        const matches = [...translation.matchAll(/\\{\\{\\s*([^}]+)\\s*\\}\\}/g)];\n        const keys = matches.map((m) => m[1].trim());\n        if (typeof values !== \"object\" && keys.length === 1) {\n            // プレースホルダ1個だけのとき、stringを直接当てはめる\n            values = this.get(\"\" + values) || values;\n            translation = translation.replace(matches[0][0], values);\n        }\n        else if (typeof values === \"object\" && values !== null) {\n            translation = translation.replace(/\\{\\{([^}]+)\\}\\}/g, (match, p1) => {\n                const key = p1.trim();\n                return key in values ? values[key] : \"\";\n            });\n        }\n        return translation;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nService, providedIn: \"root\" });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: \"root\",\n                }]\n        }], ctorParameters: () => [{ type: i1.HttpClient }] });","originalLength":3252,"removedExports":[],"renderedExports":["L10nService"],"renderedLength":2969},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.pipe.js":{"code":"class L10nPipe {\n    l10n;\n    cdr;\n    value = '';\n    lastKey = '';\n    lastValues = {};\n    sub;\n    constructor(l10n, cdr) {\n        this.l10n = l10n;\n        this.cdr = cdr;\n        this.sub = this.l10n.getStream().subscribe(() => {\n            this.value = this.l10n.get(this.lastKey, this.lastValues);\n            this.cdr.markForCheck();\n        });\n    }\n    transform(key, values = {}) {\n        const valuesChanged = JSON.stringify(values) !== JSON.stringify(this.lastValues);\n        if (key !== this.lastKey || valuesChanged) {\n            this.lastKey = key;\n            this.lastValues = { ...values };\n            this.value = this.l10n.get(key, values);\n        }\n        return this.value;\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nPipe, deps: [{ token: L10nService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Pipe });\n    static ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nPipe, isStandalone: false, name: \"l10n\", pure: false });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'l10n',\n                    pure: false,\n                    standalone: false,\n                }]\n        }], ctorParameters: () => [{ type: L10nService }, { type: i0.ChangeDetectorRef }] });","originalLength":1693,"removedExports":[],"renderedExports":["L10nPipe"],"renderedLength":1529},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.component.js":{"code":"class L10nComponent {\n    cd;\n    text = '';\n    values = null;\n    single = null;\n    content;\n    constructor(cd) {\n        this.cd = cd;\n    }\n    ngOnChanges() {\n        this.updateText();\n    }\n    ngAfterViewInit() {\n        this.updateText();\n    }\n    updateText() {\n        if (!this.content) {\n            return;\n        }\n        this.text = this.content.nativeElement.innerHTML.trim();\n        this.content.nativeElement.remove();\n        this.cd.detectChanges();\n    }\n    get args() {\n        return this.values ?? this.single ?? {};\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.2.4\", type: L10nComponent, isStandalone: false, selector: \"l10n\", inputs: { values: \"values\", single: \"single\" }, viewQueries: [{ propertyName: \"content\", first: true, predicate: [\"content\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: `\n    {{ text | l10n : args }}\n    <span #content>\n      <ng-content></ng-content>\n    </span>\n  `, isInline: true, styles: [\":host{font-family:inherit}\\n\"], dependencies: [{ kind: \"pipe\", type: L10nPipe, name: \"l10n\" }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'l10n', standalone: false, template: `\n    {{ text | l10n : args }}\n    <span #content>\n      <ng-content></ng-content>\n    </span>\n  `, styles: [\":host{font-family:inherit}\\n\"] }]\n        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { values: [{\n                type: Input\n            }], single: [{\n                type: Input\n            }], content: [{\n                type: ViewChild,\n                args: ['content']\n            }] } });","originalLength":2164,"removedExports":[],"renderedExports":["L10nComponent"],"renderedLength":1977},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.directive.js":{"code":"class L10nDirective {\n    el;\n    l10n;\n    values = {};\n    originalText = '';\n    sub;\n    constructor(el, l10n) {\n        this.el = el;\n        this.l10n = l10n;\n    }\n    ngOnInit() {\n        this.sub = this.l10n.getStream().subscribe(() => {\n            this.updateText();\n        });\n    }\n    ngAfterViewInit() {\n        this.originalText = (this.el.nativeElement.textContent || '').trim();\n        this.updateText();\n    }\n    updateText() {\n        const translationKey = this.originalText;\n        if (!translationKey)\n            return;\n        this.el.nativeElement.textContent = this.l10n.get(translationKey, this.values);\n    }\n    ngOnDestroy() {\n        this.sub?.unsubscribe();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nDirective, deps: [{ token: i0.ElementRef }, { token: L10nService }], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"20.2.4\", type: L10nDirective, isStandalone: false, selector: \"[l10n]\", inputs: { values: [\"l10n\", \"values\"] }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[l10n]',\n                    standalone: false,\n                }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: L10nService }], propDecorators: { values: [{\n                type: Input,\n                args: ['l10n']\n            }] } });","originalLength":1769,"removedExports":[],"renderedExports":["L10nDirective"],"renderedLength":1587},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/l10n.module.js":{"code":"class L10nModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, declarations: [L10nComponent, L10nPipe, L10nDirective], imports: [CommonModule], exports: [L10nComponent, L10nPipe, L10nDirective] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, imports: [CommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [L10nComponent, L10nPipe, L10nDirective],\n                    imports: [CommonModule],\n                    exports: [L10nComponent, L10nPipe, L10nDirective],\n                }]\n        }] });","originalLength":1287,"removedExports":[],"renderedExports":["L10nModule"],"renderedLength":973},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/index.js":{"code":"","originalLength":193,"removedExports":[],"renderedExports":[],"renderedLength":0},"/Users/john/dev/lib/tn-ng-lib/dist/tn-ng-lib/tmp-esm2022/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.js":{"code":"/**\n * Generated bundle index. Do not edit.\n */","originalLength":130,"removedExports":[],"renderedExports":[],"renderedLength":47}},"referencedFiles":[],"code":"import * as i0 from '@angular/core';\nimport { Injectable, Pipe, ViewChild, Input, Component, Directive, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BehaviorSubject, firstValueFrom, of } from 'rxjs';\nimport { tap, catchError } from 'rxjs/operators';\nimport * as i1 from '@angular/common/http';\n\nclass L10nService {\n    http;\n    lang = \"ja\";\n    dictionary$ = new BehaviorSubject({});\n    initialized = false;\n    constructor(http) {\n        this.http = http;\n        // 初期化はAPP_INITIALIZERで行うためコンストラクタでは呼ばない\n        console.log(\"L10nService constructor\");\n    }\n    init(lang = this.lang) {\n        console.log(`L10n init called with lang: \"${lang}\", this.lang: \"${this.lang}\"`);\n        return this.use(lang).then(() => {\n            this.initialized = true;\n            console.log(`L10n initialized with language: ${lang}, initialized: ${this.initialized}`);\n        });\n    }\n    use(lang) {\n        return firstValueFrom(this.loadLanguage(lang));\n    }\n    loadLanguage(lang) {\n        this.lang = lang;\n        return this.http.get(`/assets/dist/l10n/${lang}.json`).pipe(tap((dict) => {\n            this.dictionary$.next(dict);\n        }), catchError((error) => {\n            console.error(`Failed to initialize l10n with language ${lang}:`, error);\n            // 初期化失敗時は空の辞書で続行\n            this.dictionary$.next({});\n            return of({});\n        }));\n    }\n    get(key, values = {}) {\n        if (!this.initialized) {\n            console.warn(`L10n service not initialized. Key: \"${key}\", initialized: ${this.initialized}. Make sure to call init() or use APP_INITIALIZER`);\n            return key; // 初期化前はキーをそのまま返す\n        }\n        const dictionary = this.dictionary$.value;\n        return key in dictionary ? this.replacePlaceholders(dictionary[key], values) : key;\n    }\n    getStream() {\n        return this.dictionary$.asObservable();\n    }\n    getLang() {\n        return this.lang;\n    }\n    replacePlaceholders(translation, values) {\n        const matches = [...translation.matchAll(/\\{\\{\\s*([^}]+)\\s*\\}\\}/g)];\n        const keys = matches.map((m) => m[1].trim());\n        if (typeof values !== \"object\" && keys.length === 1) {\n            // プレースホルダ1個だけのとき、stringを直接当てはめる\n            values = this.get(\"\" + values) || values;\n            translation = translation.replace(matches[0][0], values);\n        }\n        else if (typeof values === \"object\" && values !== null) {\n            translation = translation.replace(/\\{\\{([^}]+)\\}\\}/g, (match, p1) => {\n                const key = p1.trim();\n                return key in values ? values[key] : \"\";\n            });\n        }\n        return translation;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nService, deps: [{ token: i1.HttpClient }], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nService, providedIn: \"root\" });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: \"root\",\n                }]\n        }], ctorParameters: () => [{ type: i1.HttpClient }] });\n\nclass L10nPipe {\n    l10n;\n    cdr;\n    value = '';\n    lastKey = '';\n    lastValues = {};\n    sub;\n    constructor(l10n, cdr) {\n        this.l10n = l10n;\n        this.cdr = cdr;\n        this.sub = this.l10n.getStream().subscribe(() => {\n            this.value = this.l10n.get(this.lastKey, this.lastValues);\n            this.cdr.markForCheck();\n        });\n    }\n    transform(key, values = {}) {\n        const valuesChanged = JSON.stringify(values) !== JSON.stringify(this.lastValues);\n        if (key !== this.lastKey || valuesChanged) {\n            this.lastKey = key;\n            this.lastValues = { ...values };\n            this.value = this.l10n.get(key, values);\n        }\n        return this.value;\n    }\n    ngOnDestroy() {\n        this.sub.unsubscribe();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nPipe, deps: [{ token: L10nService }, { token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Pipe });\n    static ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: \"14.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nPipe, isStandalone: false, name: \"l10n\", pure: false });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nPipe, decorators: [{\n            type: Pipe,\n            args: [{\n                    name: 'l10n',\n                    pure: false,\n                    standalone: false,\n                }]\n        }], ctorParameters: () => [{ type: L10nService }, { type: i0.ChangeDetectorRef }] });\n\nclass L10nComponent {\n    cd;\n    text = '';\n    values = null;\n    single = null;\n    content;\n    constructor(cd) {\n        this.cd = cd;\n    }\n    ngOnChanges() {\n        this.updateText();\n    }\n    ngAfterViewInit() {\n        this.updateText();\n    }\n    updateText() {\n        if (!this.content) {\n            return;\n        }\n        this.text = this.content.nativeElement.innerHTML.trim();\n        this.content.nativeElement.remove();\n        this.cd.detectChanges();\n    }\n    get args() {\n        return this.values ?? this.single ?? {};\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nComponent, deps: [{ token: i0.ChangeDetectorRef }], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.2.4\", type: L10nComponent, isStandalone: false, selector: \"l10n\", inputs: { values: \"values\", single: \"single\" }, viewQueries: [{ propertyName: \"content\", first: true, predicate: [\"content\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: `\n    {{ text | l10n : args }}\n    <span #content>\n      <ng-content></ng-content>\n    </span>\n  `, isInline: true, styles: [\":host{font-family:inherit}\\n\"], dependencies: [{ kind: \"pipe\", type: L10nPipe, name: \"l10n\" }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'l10n', standalone: false, template: `\n    {{ text | l10n : args }}\n    <span #content>\n      <ng-content></ng-content>\n    </span>\n  `, styles: [\":host{font-family:inherit}\\n\"] }]\n        }], ctorParameters: () => [{ type: i0.ChangeDetectorRef }], propDecorators: { values: [{\n                type: Input\n            }], single: [{\n                type: Input\n            }], content: [{\n                type: ViewChild,\n                args: ['content']\n            }] } });\n\nclass L10nDirective {\n    el;\n    l10n;\n    values = {};\n    originalText = '';\n    sub;\n    constructor(el, l10n) {\n        this.el = el;\n        this.l10n = l10n;\n    }\n    ngOnInit() {\n        this.sub = this.l10n.getStream().subscribe(() => {\n            this.updateText();\n        });\n    }\n    ngAfterViewInit() {\n        this.originalText = (this.el.nativeElement.textContent || '').trim();\n        this.updateText();\n    }\n    updateText() {\n        const translationKey = this.originalText;\n        if (!translationKey)\n            return;\n        this.el.nativeElement.textContent = this.l10n.get(translationKey, this.values);\n    }\n    ngOnDestroy() {\n        this.sub?.unsubscribe();\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nDirective, deps: [{ token: i0.ElementRef }, { token: L10nService }], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"20.2.4\", type: L10nDirective, isStandalone: false, selector: \"[l10n]\", inputs: { values: [\"l10n\", \"values\"] }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[l10n]',\n                    standalone: false,\n                }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: L10nService }], propDecorators: { values: [{\n                type: Input,\n                args: ['l10n']\n            }] } });\n\nclass L10nModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, declarations: [L10nComponent, L10nPipe, L10nDirective], imports: [CommonModule], exports: [L10nComponent, L10nPipe, L10nDirective] });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, imports: [CommonModule] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: L10nModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [L10nComponent, L10nPipe, L10nDirective],\n                    imports: [CommonModule],\n                    exports: [L10nComponent, L10nPipe, L10nDirective],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { L10nComponent, L10nDirective, L10nModule, L10nPipe, L10nService };\n//# sourceMappingURL=tnlake-tn-ng-lib-src-lib-l10n.mjs.map\n","map":null,"preliminaryFileName":"tnlake-tn-ng-lib-src-lib-l10n.mjs","sourcemapFileName":"tnlake-tn-ng-lib-src-lib-l10n.mjs.map"},{"fileName":"tnlake-tn-ng-lib-src-lib-l10n.mjs.map","names":[],"needsCodeReference":false,"originalFileName":null,"originalFileNames":[],"source":"{\"version\":3,\"file\":\"tnlake-tn-ng-lib-src-lib-l10n.mjs\",\"sources\":[\"../../../projects/@tnlake/tn-ng-lib/src/lib/l10n/l10n.service.ts\",\"../../../projects/@tnlake/tn-ng-lib/src/lib/l10n/l10n.pipe.ts\",\"../../../projects/@tnlake/tn-ng-lib/src/lib/l10n/l10n.component.ts\",\"../../../projects/@tnlake/tn-ng-lib/src/lib/l10n/l10n.directive.ts\",\"../../../projects/@tnlake/tn-ng-lib/src/lib/l10n/l10n.module.ts\",\"../../../projects/@tnlake/tn-ng-lib/src/lib/l10n/tnlake-tn-ng-lib-src-lib-l10n.ts\"],\"sourcesContent\":[\"import { HttpClient } from \\\"@angular/common/http\\\";\\nimport { Injectable } from \\\"@angular/core\\\";\\nimport { BehaviorSubject, firstValueFrom, of } from \\\"rxjs\\\";\\nimport { catchError, tap } from \\\"rxjs/operators\\\";\\n\\n@Injectable({\\n  providedIn: \\\"root\\\",\\n})\\nexport class L10nService {\\n  private lang: string = \\\"ja\\\";\\n  private dictionary$ = new BehaviorSubject<any>({});\\n  private initialized = false;\\n\\n  constructor(private http: HttpClient) {\\n    // 初期化はAPP_INITIALIZERで行うためコンストラクタでは呼ばない\\n    console.log(\\\"L10nService constructor\\\");\\n  }\\n\\n  init(lang: string = this.lang): Promise<any> {\\n    console.log(`L10n init called with lang: \\\"${lang}\\\", this.lang: \\\"${this.lang}\\\"`);\\n    return this.use(lang).then(() => {\\n      this.initialized = true;\\n      console.log(`L10n initialized with language: ${lang}, initialized: ${this.initialized}`);\\n    });\\n  }\\n\\n  use(lang: string) {\\n    return firstValueFrom(this.loadLanguage(lang));\\n  }\\n\\n  private loadLanguage(lang: string) {\\n    this.lang = lang;\\n    return this.http.get(`/assets/dist/l10n/${lang}.json`).pipe(\\n      tap((dict) => {\\n        this.dictionary$.next(dict);\\n      }),\\n      catchError((error) => {\\n        console.error(`Failed to initialize l10n with language ${lang}:`, error);\\n        // 初期化失敗時は空の辞書で続行\\n        this.dictionary$.next({});\\n        return of({});\\n      })\\n    );\\n  }\\n\\n  get(key: string, values: any = {}): string {\\n    if (!this.initialized) {\\n      console.warn(`L10n service not initialized. Key: \\\"${key}\\\", initialized: ${this.initialized}. Make sure to call init() or use APP_INITIALIZER`);\\n      return key; // 初期化前はキーをそのまま返す\\n    }\\n\\n    const dictionary = this.dictionary$.value;\\n    return key in dictionary ? this.replacePlaceholders(dictionary[key], values) : key;\\n  }\\n\\n  getStream() {\\n    return this.dictionary$.asObservable();\\n  }\\n\\n  getLang() {\\n    return this.lang;\\n  }\\n\\n  private replacePlaceholders(translation: string, values: any): string {\\n    const matches = [...translation.matchAll(/\\\\{\\\\{\\\\s*([^}]+)\\\\s*\\\\}\\\\}/g)];\\n    const keys = matches.map((m) => m[1].trim());\\n\\n    if (typeof values !== \\\"object\\\" && keys.length === 1) {\\n      // プレースホルダ1個だけのとき、stringを直接当てはめる\\n      values = this.get(\\\"\\\" + values) || values;\\n      translation = translation.replace(matches[0][0], values);\\n    } else if (typeof values === \\\"object\\\" && values !== null) {\\n      translation = translation.replace(/\\\\{\\\\{([^}]+)\\\\}\\\\}/g, (match, p1) => {\\n        const key = p1.trim();\\n        return key in values ? values[key] : \\\"\\\";\\n      });\\n    }\\n\\n    return translation;\\n  }\\n}\\n\",\"import { ChangeDetectorRef, Pipe, PipeTransform } from '@angular/core';\\nimport { L10nService } from './l10n.service';\\nimport { Subscription } from 'rxjs';\\n\\n@Pipe({\\n  name: 'l10n',\\n  pure: false,\\n  standalone: false,\\n})\\nexport class L10nPipe implements PipeTransform {\\n  private value = '';\\n  private lastKey = '';\\n  private lastValues: any = {};\\n  private sub: Subscription;\\n\\n  constructor(private l10n: L10nService, private cdr: ChangeDetectorRef) {\\n    this.sub = this.l10n.getStream().subscribe(() => {\\n      this.value = this.l10n.get(this.lastKey, this.lastValues);\\n      this.cdr.markForCheck();\\n    });\\n  }\\n\\n  transform(key: string, values: any = {}): string {\\n    const valuesChanged =\\n      JSON.stringify(values) !== JSON.stringify(this.lastValues);\\n    if (key !== this.lastKey || valuesChanged) {\\n      this.lastKey = key;\\n      this.lastValues = { ...values };\\n      this.value = this.l10n.get(key, values);\\n    }\\n    return this.value;\\n  }\\n\\n  ngOnDestroy(): void {\\n    this.sub.unsubscribe();\\n  }\\n}\\n\",\"import {\\n  ElementRef,\\n  ViewChild,\\n  Component,\\n  ChangeDetectorRef,\\n  AfterViewInit,\\n  Input,\\n  OnChanges,\\n} from '@angular/core';\\n\\n@Component({\\n  selector: 'l10n',\\n  standalone: false,\\n  template: `\\n    {{ text | l10n : args }}\\n    <span #content>\\n      <ng-content></ng-content>\\n    </span>\\n  `,\\n  styles: [\\n    `\\n      :host {\\n        font-family: inherit;\\n      }\\n    `,\\n  ],\\n})\\nexport class L10nComponent implements OnChanges, AfterViewInit {\\n  text: string = '';\\n\\n  @Input() values: any = null;\\n  @Input() single: string | number | null = null;\\n\\n  @ViewChild('content')\\n  private content!: ElementRef<Element>;\\n\\n  constructor(private cd: ChangeDetectorRef) {}\\n\\n  ngOnChanges() {\\n    this.updateText();\\n  }\\n\\n  ngAfterViewInit() {\\n    this.updateText();\\n  }\\n\\n  updateText() {\\n    if (!this.content) {\\n      return;\\n    }\\n    this.text = this.content.nativeElement.innerHTML.trim();\\n    this.content.nativeElement.remove();\\n    this.cd.detectChanges();\\n  }\\n\\n  get args() {\\n    return this.values ?? this.single ?? {};\\n  }\\n}\\n\",\"import {\\n  Directive,\\n  ElementRef,\\n  Input,\\n  OnInit,\\n  OnDestroy,\\n  AfterViewInit,\\n} from '@angular/core';\\nimport { L10nService } from './l10n.service';\\nimport { Subscription } from 'rxjs';\\n\\n@Directive({\\n  selector: '[l10n]',\\n  standalone: false,\\n})\\nexport class L10nDirective implements OnInit, OnDestroy, AfterViewInit {\\n  @Input('l10n') values?: Record<string, any> | string = {};\\n\\n  private originalText: string = '';\\n  private sub: Subscription | undefined;\\n\\n  constructor(private el: ElementRef, private l10n: L10nService) {}\\n\\n  ngOnInit(): void {\\n    this.sub = this.l10n.getStream().subscribe(() => {\\n      this.updateText();\\n    });\\n  }\\n\\n  ngAfterViewInit(): void {\\n    this.originalText = (this.el.nativeElement.textContent || '').trim();\\n    this.updateText();\\n  }\\n\\n  private updateText(): void {\\n    const translationKey = this.originalText;\\n    if (!translationKey) return;\\n\\n    this.el.nativeElement.textContent = this.l10n.get(\\n      translationKey,\\n      this.values\\n    );\\n  }\\n\\n  ngOnDestroy(): void {\\n    this.sub?.unsubscribe();\\n  }\\n}\\n\",\"import { NgModule } from '@angular/core';\\nimport { CommonModule } from '@angular/common';\\nimport { L10nComponent } from './l10n.component';\\nimport { L10nPipe } from './l10n.pipe';\\nimport { L10nDirective } from './l10n.directive';\\n\\n@NgModule({\\n  declarations: [L10nComponent, L10nPipe, L10nDirective],\\n  imports: [CommonModule],\\n  exports: [L10nComponent, L10nPipe, L10nDirective],\\n})\\nexport class L10nModule {}\\n\",\"/**\\n * Generated bundle index. Do not edit.\\n */\\n\\nexport * from './index';\\n\"],\"names\":[\"i1.L10nService\",\"i1.L10nPipe\"],\"mappings\":\"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\"}","type":"asset"}]}