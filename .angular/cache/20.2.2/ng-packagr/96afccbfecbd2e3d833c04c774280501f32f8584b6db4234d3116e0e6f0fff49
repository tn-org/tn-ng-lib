{"hash":"7be4e93e3519aa36b3ae7163459ee891c3f0aa2646d77b6d48457b3e9aa49ced","types":[{"exports":["ExhaustClickDirective"],"facadeModuleId":"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-typings/directive/tnlake-tn-ng-lib-directive.d.ts","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-typings/directive/src/exhaust-click.directive.d.ts","/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-typings/directive/tnlake-tn-ng-lib-directive.d.ts"],"name":"tnlake-tn-ng-lib-directive.d","type":"chunk","dynamicImports":[],"fileName":"index.d.ts","implicitlyLoadedBefore":[],"importedBindings":{"@angular/core":["*"]},"imports":["@angular/core"],"modules":{"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-typings/directive/src/exhaust-click.directive.d.ts":{"code":"declare class ExhaustClickDirective {\n    handler?: () => Promise<any> | any;\n    exDisabled: boolean;\n    processing: boolean;\n    onClick(e: Event): Promise<void>;\n    static ɵfac: i0.ɵɵFactoryDeclaration<ExhaustClickDirective, never>;\n    static ɵdir: i0.ɵɵDirectiveDeclaration<ExhaustClickDirective, \"[exClick]\", never, { \"handler\": { \"alias\": \"exClick\"; \"required\": false; }; \"exDisabled\": { \"alias\": \"exDisabled\"; \"required\": false; }; }, {}, never, never, true, never>;\n}","originalLength":523,"removedExports":[],"renderedExports":["ExhaustClickDirective"],"renderedLength":478},"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-typings/directive/tnlake-tn-ng-lib-directive.d.ts":{"code":null,"originalLength":127,"removedExports":[],"renderedExports":[],"renderedLength":0}},"referencedFiles":[],"code":"import * as i0 from '@angular/core';\n\ndeclare class ExhaustClickDirective {\n    handler?: () => Promise<any> | any;\n    exDisabled: boolean;\n    processing: boolean;\n    onClick(e: Event): Promise<void>;\n    static ɵfac: i0.ɵɵFactoryDeclaration<ExhaustClickDirective, never>;\n    static ɵdir: i0.ɵɵDirectiveDeclaration<ExhaustClickDirective, \"[exClick]\", never, { \"handler\": { \"alias\": \"exClick\"; \"required\": false; }; \"exDisabled\": { \"alias\": \"exDisabled\"; \"required\": false; }; }, {}, never, never, true, never>;\n}\n\nexport { ExhaustClickDirective };\n","map":null,"preliminaryFileName":"index.d.ts","sourcemapFileName":null}],"fesm2022":[{"exports":["ExhaustClickDirective"],"facadeModuleId":"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/tnlake-tn-ng-lib-directive.js","isDynamicEntry":false,"isEntry":true,"isImplicitEntry":false,"moduleIds":["/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/src/exhaust-click.directive.js","/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/index.js","/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/tnlake-tn-ng-lib-directive.js"],"name":"tnlake-tn-ng-lib-directive","type":"chunk","dynamicImports":[],"fileName":"tnlake-tn-ng-lib-directive.mjs","implicitlyLoadedBefore":[],"importedBindings":{"@angular/core":["*","HostListener","Input","Directive"],"rxjs":["isObservable","firstValueFrom"]},"imports":["@angular/core","rxjs"],"modules":{"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/src/exhaust-click.directive.js":{"code":"class ExhaustClickDirective {\n    handler;\n    exDisabled = false; // 外部から渡す無効条件\n    processing = false;\n    async onClick(e) {\n        if (this.processing || this.exDisabled || !this.handler) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            return;\n        }\n        this.processing = true;\n        try {\n            const r = this.handler();\n            if (r?.then)\n                await r;\n            else if (isObservable(r))\n                await firstValueFrom(r);\n        }\n        finally {\n            this.processing = false;\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: ExhaustClickDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"20.2.4\", type: ExhaustClickDirective, isStandalone: true, selector: \"[exClick]\", inputs: { handler: [\"exClick\", \"handler\"], exDisabled: \"exDisabled\" }, host: { listeners: { \"click\": \"onClick($event)\" }, properties: { \"attr.aria-busy\": \"processing ? \\\"true\\\" : null\", \"attr.aria-disabled\": \"processing ? \\\"true\\\" : null\", \"attr.disabled\": \"processing || exDisabled ? true : null\" } }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: ExhaustClickDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: \"[exClick]\",\n                    host: {\n                        \"[attr.aria-busy]\": 'processing ? \"true\" : null',\n                        \"[attr.aria-disabled]\": 'processing ? \"true\" : null',\n                        \"[attr.disabled]\": \"processing || exDisabled ? true : null\",\n                    },\n                }]\n        }], propDecorators: { handler: [{\n                type: Input,\n                args: [\"exClick\"]\n            }], exDisabled: [{\n                type: Input\n            }], onClick: [{\n                type: HostListener,\n                args: [\"click\", [\"$event\"]]\n            }] } });","originalLength":2283,"removedExports":[],"renderedExports":["ExhaustClickDirective"],"renderedLength":2070},"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/index.js":{"code":"","originalLength":80,"removedExports":[],"renderedExports":[],"renderedLength":0},"/Users/john/dev/lib/tn-ng-lib/dist/@tnlake/tn-ng-lib/tmp-esm2022/directive/tnlake-tn-ng-lib-directive.js":{"code":"/**\n * Generated bundle index. Do not edit.\n */","originalLength":127,"removedExports":[],"renderedExports":[],"renderedLength":47}},"referencedFiles":[],"code":"import * as i0 from '@angular/core';\nimport { HostListener, Input, Directive } from '@angular/core';\nimport { isObservable, firstValueFrom } from 'rxjs';\n\nclass ExhaustClickDirective {\n    handler;\n    exDisabled = false; // 外部から渡す無効条件\n    processing = false;\n    async onClick(e) {\n        if (this.processing || this.exDisabled || !this.handler) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            return;\n        }\n        this.processing = true;\n        try {\n            const r = this.handler();\n            if (r?.then)\n                await r;\n            else if (isObservable(r))\n                await firstValueFrom(r);\n        }\n        finally {\n            this.processing = false;\n        }\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: ExhaustClickDirective, deps: [], target: i0.ɵɵFactoryTarget.Directive });\n    static ɵdir = i0.ɵɵngDeclareDirective({ minVersion: \"14.0.0\", version: \"20.2.4\", type: ExhaustClickDirective, isStandalone: true, selector: \"[exClick]\", inputs: { handler: [\"exClick\", \"handler\"], exDisabled: \"exDisabled\" }, host: { listeners: { \"click\": \"onClick($event)\" }, properties: { \"attr.aria-busy\": \"processing ? \\\"true\\\" : null\", \"attr.aria-disabled\": \"processing ? \\\"true\\\" : null\", \"attr.disabled\": \"processing || exDisabled ? true : null\" } }, ngImport: i0 });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.2.4\", ngImport: i0, type: ExhaustClickDirective, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: \"[exClick]\",\n                    host: {\n                        \"[attr.aria-busy]\": 'processing ? \"true\" : null',\n                        \"[attr.aria-disabled]\": 'processing ? \"true\" : null',\n                        \"[attr.disabled]\": \"processing || exDisabled ? true : null\",\n                    },\n                }]\n        }], propDecorators: { handler: [{\n                type: Input,\n                args: [\"exClick\"]\n            }], exDisabled: [{\n                type: Input\n            }], onClick: [{\n                type: HostListener,\n                args: [\"click\", [\"$event\"]]\n            }] } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ExhaustClickDirective };\n//# sourceMappingURL=tnlake-tn-ng-lib-directive.mjs.map\n","map":null,"preliminaryFileName":"tnlake-tn-ng-lib-directive.mjs","sourcemapFileName":"tnlake-tn-ng-lib-directive.mjs.map"},{"fileName":"tnlake-tn-ng-lib-directive.mjs.map","names":[],"needsCodeReference":false,"originalFileName":null,"originalFileNames":[],"source":"{\"version\":3,\"file\":\"tnlake-tn-ng-lib-directive.mjs\",\"sources\":[\"../../../../projects/@tnlake/tn-ng-lib/directive/src/exhaust-click.directive.ts\",\"../../../../projects/@tnlake/tn-ng-lib/directive/tnlake-tn-ng-lib-directive.ts\"],\"sourcesContent\":[\"import { Directive, HostListener, Input } from \\\"@angular/core\\\";\\nimport { firstValueFrom, isObservable } from \\\"rxjs\\\";\\n\\n@Directive({\\n  selector: \\\"[exClick]\\\",\\n  host: {\\n    \\\"[attr.aria-busy]\\\": 'processing ? \\\"true\\\" : null',\\n    \\\"[attr.aria-disabled]\\\": 'processing ? \\\"true\\\" : null',\\n    \\\"[attr.disabled]\\\": \\\"processing || exDisabled ? true : null\\\",\\n  },\\n})\\nexport class ExhaustClickDirective {\\n  @Input(\\\"exClick\\\") handler?: () => Promise<any> | any;\\n  @Input() exDisabled = false; // 外部から渡す無効条件\\n  processing = false;\\n\\n  @HostListener(\\\"click\\\", [\\\"$event\\\"])\\n  async onClick(e: Event) {\\n    if (this.processing || this.exDisabled || !this.handler) {\\n      e.preventDefault();\\n      e.stopImmediatePropagation();\\n      return;\\n    }\\n\\n    this.processing = true;\\n    try {\\n      const r = this.handler();\\n      if (r?.then) await r;\\n      else if (isObservable(r)) await firstValueFrom(r as any);\\n    } finally {\\n      this.processing = false;\\n    }\\n  }\\n}\\n\",\"/**\\n * Generated bundle index. Do not edit.\\n */\\n\\nexport * from './index';\\n\"],\"names\":[],\"mappings\":\";;;;MAWa,qBAAqB,CAAA;AACd,IAAA,OAAO;AAChB,IAAA,UAAU,GAAG,KAAK,CAAC;IAC5B,UAAU,GAAG,KAAK;IAGlB,MAAM,OAAO,CAAC,CAAQ,EAAA;AACpB,QAAA,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;YACvD,CAAC,CAAC,cAAc,EAAE;YAClB,CAAC,CAAC,wBAAwB,EAAE;YAC5B;QACF;AAEA,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI;AACtB,QAAA,IAAI;AACF,YAAA,MAAM,CAAC,GAAG,IAAI,CAAC,OAAO,EAAE;YACxB,IAAI,CAAC,EAAE,IAAI;AAAE,gBAAA,MAAM,CAAC;iBACf,IAAI,YAAY,CAAC,CAAC,CAAC;AAAE,gBAAA,MAAM,cAAc,CAAC,CAAQ,CAAC;QAC1D;gBAAU;AACR,YAAA,IAAI,CAAC,UAAU,GAAG,KAAK;QACzB;IACF;uGArBW,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA;2FAArB,qBAAqB,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,EAAA,OAAA,EAAA,CAAA,SAAA,EAAA,SAAA,CAAA,EAAA,UAAA,EAAA,YAAA,EAAA,EAAA,IAAA,EAAA,EAAA,SAAA,EAAA,EAAA,OAAA,EAAA,iBAAA,EAAA,EAAA,UAAA,EAAA,EAAA,gBAAA,EAAA,8BAAA,EAAA,oBAAA,EAAA,8BAAA,EAAA,eAAA,EAAA,wCAAA,EAAA,EAAA,EAAA,QAAA,EAAA,EAAA,EAAA,CAAA;;2FAArB,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBARjC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,WAAW;AACrB,oBAAA,IAAI,EAAE;AACJ,wBAAA,kBAAkB,EAAE,4BAA4B;AAChD,wBAAA,sBAAsB,EAAE,4BAA4B;AACpD,wBAAA,iBAAiB,EAAE,wCAAwC;AAC5D,qBAAA;AACF,iBAAA;8BAEmB,OAAO,EAAA,CAAA;sBAAxB,KAAK;uBAAC,SAAS;gBACP,UAAU,EAAA,CAAA;sBAAlB;gBAIK,OAAO,EAAA,CAAA;sBADZ,YAAY;uBAAC,OAAO,EAAE,CAAC,QAAQ,CAAC;;;AChBnC;;AAEG;;;;\"}","type":"asset"}]}